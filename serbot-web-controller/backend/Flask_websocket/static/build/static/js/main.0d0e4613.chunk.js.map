{"version":3,"sources":["apis/client.js","components/SocketProvider.jsx","components/Nipple.jsx","components/Joystic.jsx","App.jsx","apis/index.js","index.js"],"names":["client","axios","create","SocketContext","createContext","SocketProvider","children","socket","useRef","current","socketio","connect","on","window","location","replace","Provider","value","Nipple","width","height","options","onChange","onEvent","useCallback","_evt","data","degree","angle","distance","className","style","onStart","onEnd","onMove","onDir","onPlain","onShown","onHidden","onPressure","defaultProps","Joystic","useState","nippleData","setNippleData","useContext","useEffect","emit","parseInt","mode","position","top","left","color","App","hostName","setHostName","get","then","response","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iOAMeA,E,OAJAC,EAAMC,S,wBCERC,EAAgBC,wBAAc,MAyB5BC,EAvBQ,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAElBC,EAASC,iBAAO,MAStB,OAPKD,EAAOE,UACVF,EAAOE,QAAUC,IAASC,QAJV,2BAKhBJ,EAAOE,QAAQG,GAAG,YAAY,WAC5BC,OAAOC,SAASC,QAAQ,SAK1B,cAACZ,EAAca,SAAf,CAAwBC,MAAOV,EAA/B,SAAwCD,K,iBCbtCY,G,MAAS,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,MAAOC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SAClCC,EAAUC,uBAAY,SAACC,EAAMC,GAClB,IAAD,EAAVJ,GACFA,EAAS,CAAEK,OAAM,OAAED,QAAF,IAAEA,GAAF,UAAEA,EAAME,aAAR,aAAE,EAAaD,OAAQE,SAAQ,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAAMG,aAEzD,IAEH,OACE,mCACE,cAAC,IAAD,CACEC,UAAU,UACVT,QAASA,EACTU,MAAO,CAAEZ,QAAOC,UAChBY,QAAST,EACTU,MAAOV,EACPW,OAAQX,EACRY,MAAOZ,EACPa,QAASb,EACTc,QAASd,EACTe,SAAUf,EACVgB,WAAYhB,QAapBL,EAAOsB,aAAe,CACpBrB,MAAO,OACPC,OAAQ,OACRC,QAAS,KACTC,SAAU,MAGGJ,QCFAuB,EAvCC,WACd,MAAoCC,mBAAS,IAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KACMrC,EAASsC,qBAAW1C,GAqB1B,OAfA2C,qBAAU,WACR,kBAA2BH,EAA3B,GAAOhB,EAAP,KAAeE,EAAf,KACIF,GAAUE,EACZtB,EAAOE,QAAQsC,KAAK,UAAW,CAC7BpB,SACAE,aAGFtB,EAAOE,QAAQsC,KAAK,UAAW,CAC7BpB,OAAQ,EACRE,SAAU,MAGb,CAACc,IAGF,qBAAKb,UAAU,YAAf,SACE,cAAC,EAAD,CACER,SAtBW,SAAC,GAA0B,IAAxBK,EAAuB,EAAvBA,OAAQE,EAAe,EAAfA,SAC1Be,EAAc,CAACI,SAASrB,EAAQ,IAAKqB,SAASnB,EAAU,OAsBpDV,MAAM,QACNC,OAAO,QACPC,QAAS,CACP4B,KAAM,SACNC,SAAU,CAAEC,IAAK,MAAOC,KAAM,OAC9BC,MAAO,cCVFC,G,MApBH,WACV,MAAgCZ,mBAAS,IAAzC,mBAAOa,EAAP,KAAiBC,EAAjB,KAQA,OANAV,qBAAU,WCNqB9C,EAAOyD,IAAI,aDO1BC,MAAK,SAAAC,GACjBH,EAAYG,EAASjC,WAEtB,IAGD,sBAAKI,UAAU,YAAf,UACE,oBAAIA,UAAU,YAAd,SAA2ByB,IAE3B,cAAC,EAAD,UACE,cAAC,EAAD,W,OEfRK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U","file":"static/js/main.0d0e4613.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst client = axios.create();\n\n// client.defaults.baseURL = '127.0.0.1';\n\nexport default client;\n","import React, { useRef, createContext } from 'react';\nimport PropTypes from 'prop-types';\nimport socketio from 'socket.io-client';\n\nexport const SocketContext = createContext(null);\n\nconst SocketProvider = ({ children }) => {\n  const socketUrl = 'http://192.168.2.1:5000';\n  const socket = useRef(null);\n\n  if (!socket.current) {\n    socket.current = socketio.connect(socketUrl);\n    socket.current.on('go_login', () => {\n      window.location.replace('/');\n    });\n  }\n\n  return (\n    <SocketContext.Provider value={socket}>{children}</SocketContext.Provider>\n  );\n};\n\nSocketProvider.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]).isRequired,\n};\n\nexport default SocketProvider;\n","import React, { useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactNipple from 'react-nipple';\nimport 'react-nipple/lib/styles.css';\n\nconst Nipple = ({ width, height, options, onChange }) => {\n  const onEvent = useCallback((_evt, data) => {\n    if (onChange) {\n      onChange({ degree: data?.angle?.degree, distance: data?.distance });\n    }\n  }, []);\n\n  return (\n    <>\n      <ReactNipple\n        className=\"joystic\"\n        options={options}\n        style={{ width, height }}\n        onStart={onEvent}\n        onEnd={onEvent}\n        onMove={onEvent}\n        onDir={onEvent}\n        onPlain={onEvent}\n        onShown={onEvent}\n        onHidden={onEvent}\n        onPressure={onEvent}\n      />\n    </>\n  );\n};\n\nNipple.propTypes = {\n  width: PropTypes.string,\n  height: PropTypes.string,\n  options: PropTypes.oneOfType([PropTypes.object]),\n  onChange: PropTypes.func,\n};\n\nNipple.defaultProps = {\n  width: '100%',\n  height: '100%',\n  options: null,\n  onChange: null,\n};\n\nexport default Nipple;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { SocketContext } from './SocketProvider';\nimport Nipple from './Nipple';\n\nconst Joystic = () => {\n  const [nippleData, setNippleData] = useState([]);\n  const socket = useContext(SocketContext);\n\n  const onChange = ({ degree, distance }) => {\n    setNippleData([parseInt(degree, 10), parseInt(distance, 10)]);\n  };\n\n  useEffect(() => {\n    const [degree, distance] = nippleData;\n    if (degree && distance) {\n      socket.current.emit('joystic', {\n        degree,\n        distance,\n      });\n    } else {\n      socket.current.emit('joystic', {\n        degree: 0,\n        distance: 0,\n      });\n    }\n  }, [nippleData]);\n\n  return (\n    <div className=\"container\">\n      <Nipple\n        onChange={onChange}\n        width=\"250px\"\n        height=\"250px\"\n        options={{\n          mode: 'static',\n          position: { top: '50%', left: '50%' },\n          color: 'black',\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Joystic;\n","import React, { useState, useEffect } from 'react';\nimport { hostNameApi } from 'apis';\nimport WebSocketProvider from 'components/SocketProvider';\nimport Joystic from './components/Joystic';\nimport './App.css';\n\nconst App = () => {\n  const [hostName, setHostName] = useState('');\n\n  useEffect(() => {\n    hostNameApi().then(response => {\n      setHostName(response.data);\n    });\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <h1 className=\"host-name\">{hostName}</h1>\n\n      <WebSocketProvider>\n        <Joystic />\n      </WebSocketProvider>\n    </div>\n  );\n};\n\nexport default App;\n","import client from './client';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const hostNameApi = () => client.get('/hostname');\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}